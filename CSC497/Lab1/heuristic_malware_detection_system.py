'''
This program should be able to scan a folder, and analysis the PE structure of each malware sample.
Then it should be able to detect all malware samples, and also output which rules that malware sample violate.

'''
from boto3 import client

'''
#s3 = boto3.resource('s3')
for bucket_dict in boto3.resource('s3').meta.client.list_buckets().get('Buckets'):
    print(bucket_dict['Name'])
    for malware in bucket_dict['Name'].objects.all():
        print(malware)
'''

conn = client('s3')  # again assumes boto.cfg setup, assume AWS S3
for key in conn.list_objects(Bucket='csc497-malware-analysis')['Contents']:
    print(key['Key'])  